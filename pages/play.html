<!doctype html>
<html>
    <head>
        <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">
        <link rel="stylesheet" type="text/css" href="/styles/custom.css">
        <title>Grant Hunt</title>

    </head>
    <body>
        
    <nav class="navbar navbar-light fixed-top">
        <a class="navbar-left" href="">
            <img src="/images/logo.png" width="200" alt="">
            <ul>
                <!-- <li><a href="play">Play</a></li> -->
                <li><a href="rules">Rules</a></li>
            </ul>
        </a>
    </nav>

    <header class="home-banner text-center text-black d-flex">
        <div class="container my-auto">
            <!-- <div class="row">
                <div class="col-lg-5 mx-auto">
                    <img style="height:50%" src="../images/cards.png"/>
                <hr>
                </div>
                <div class="col-lg-7 mx-auto">
                    <h1 class="text-uppercase">
                        <strong>Grant Hunt</strong>
                    </h1>
                    <p class="text-faded mb-5">Deceive your mates. Collect some Grants. Become rich.</p>
                    <a class="button" href="play">Play</a>
                    <a class="button" href="rules">Rules</a>
                </div>
            </div> -->
        </div>
    </header>
	
	
	<script src="/socket.io/socket.io.js"></script>
    <script>
        var socket = io('/play');
        
        socket.on('update', function(data){
        	document.getElementById("status").innerHTML = data + ' User(s) connected';
        });
        
        socket.on('player update', function(data){
        	if(data > 0) {
            	document.getElementById("waitingstatus").innerHTML = "You've connected to a game! Waiting for " + data + " more players.";
             } else {
            	document.getElementById("waitingstatus").innerHTML = "The game has started!";
            }
        });
        
        socket.on('nonplayer update', function(data){
            document.getElementById("waitingstatus").innerHTML = "The current game is full. There are currently " + data + " players waiting.";
        });
        
        socket.on('start game', function(card){
        	document.getElementById("waitingstatus").innerHTML = "The game has started!";
        	document.getElementById("gamewindow").style.visibility = "visible";
        	document.getElementById("turnstatus").innerHTML = "It's not your turn yet.";
        	document.getElementById("playbutton").onclick = function(){
        		document.getElementById("turnstatus").innerHTML = "It's not your turn yet.";
        		socket.emit('end turn');
      			return false;
        	};
        });
        
        socket.on('your turn', function(currentPlayer, card){
        	document.getElementById("turnstatus").innerHTML = "It's your turn!";
        });
        
    </script>
    </body>
</html>